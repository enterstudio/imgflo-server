<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="2241" height="1276" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[# Part of: imgflo-server
# DSL used: https://bramp.github.io/js-sequence-diagrams/
title: Scenario: Processing image without waiting for result

participant Client
participant OriginalServer
participant web
participant RabbitMQ
participant Redis
participant S3
participant backgroundworker
participant subprocess
participant urgentworker

Client->web: HTTP GET\n/graph/passthrough\n?input=http://someimage...
web->Redis: Is a1b2c3d4e5 cached?
Redis->web: No
web->RabbitMQ: Background job for imgflo:\n { id: 123, graph: passthrough... }
web->Client: HTTP 202 accept\nLocation: \nhttps://s3.../processedimage.png

Note right of Client: Request is now "done"\nfrom Client perspective.\nAsset pointed to in `Location`\n is however not ready at this time.

RabbitMQ->backgroundworker: { id: 123... }
Note left of backgroundworker: image could be produced while queueing\nby another job/request 
backgroundworker->Redis: is a1b2c3d4e5 cached?
Redis->backgroundworker: No

Note left of backgroundworker: Get input image
backgroundworker->OriginalServer: HTTP GET\nhttp://someimage...
OriginalServer->backgroundworker: HTTP response\nContent-Type:image/png
Note right of backgroundworker: Process image
backgroundworker->subprocess: EXEC imgflo < 123.fbp.json
subprocess->backgroundworker: EXIT 0 (success)

Note left of backgroundworker: Upload output image
backgroundworker->S3: HTTP POST\nhttps://s3.../processedimage.png
S3->backgroundworker: HTTP 200 OK

backgroundworker->RabbitMQ: Job completed\n{ id: 123.. }
RabbitMQ->web: { id: 123..., error: null, output: https://s3... }

]]></source><desc>Created with RaphaÃ«l 2.1.2</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block"></path><marker id="raphael-marker-endblock55-obj2291" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2294" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2297" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2300" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2303" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2309" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2315" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2318" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2324" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2327" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2333" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2336" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2342" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2345" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2348" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj2351" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none"></use></marker></defs><rect x="10" y="10" width="541.7666625976562" height="28.633333206176758" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="15.000008583068848" y="15" width="531.7666625976562" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="280.8833312988281" y="24.31666660308838" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016667366027832">Scenario: Processing image without waiting for result</tspan></text><rect x="10" y="48.63333320617676" width="80.20000076293945" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="20" y="58.633331298828125" width="60.20000076293945" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="50.10000038146973" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">Client</tspan></text><rect x="10" y="1218.1666831970215" width="80.20000076293945" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="20" y="1228.166748046875" width="60.20000076293945" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="50.10000038146973" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">Client</tspan></text><path style="" fill="none" stroke="#000000" d="M50.10000038146973,87.26666641235352L50.10000038146973,1218.1666831970215" stroke-width="2"></path><rect x="371.03332710266113" y="48.63333320617676" width="160.46665954589844" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="381.0333251953125" y="58.633331298828125" width="140.46665954589844" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="451.26665687561035" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">OriginalServer</tspan></text><rect x="371.03332710266113" y="1218.1666831970215" width="160.46665954589844" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="381.0333251953125" y="1228.166748046875" width="140.46665954589844" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="451.26665687561035" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">OriginalServer</tspan></text><path style="" fill="none" stroke="#000000" d="M451.26665687561035,87.26666641235352L451.26665687561035,1218.1666831970215" stroke-width="2"></path><rect x="551.4999866485596" y="48.63333320617676" width="50.10000038146973" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="561.5" y="58.633331298828125" width="30.100000381469727" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="576.5499868392944" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">web</tspan></text><rect x="551.4999866485596" y="1218.1666831970215" width="50.10000038146973" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="561.5" y="1228.166748046875" width="30.100000381469727" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="576.5499868392944" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">web</tspan></text><path style="" fill="none" stroke="#000000" d="M576.5499868392944,87.26666641235352L576.5499868392944,1218.1666831970215" stroke-width="2"></path><rect x="1048.0833082199097" y="48.63333320617676" width="100.26667022705078" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1058.0833740234375" y="58.633331298828125" width="80.26667022705078" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1098.216643333435" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">RabbitMQ</tspan></text><rect x="1048.0833082199097" y="1218.1666831970215" width="100.26667022705078" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1058.0833740234375" y="1228.166748046875" width="80.26667022705078" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1098.216643333435" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">RabbitMQ</tspan></text><path style="" fill="none" stroke="#000000" d="M1098.216643333435,87.26666641235352L1098.216643333435,1218.1666831970215" stroke-width="2"></path><rect x="1168.3499784469604" y="48.63333320617676" width="70.16666793823242" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1178.3499755859375" y="58.633331298828125" width="50.16666793823242" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1203.4333124160767" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">Redis</tspan></text><rect x="1168.3499784469604" y="1218.1666831970215" width="70.16666793823242" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1178.3499755859375" y="1228.166748046875" width="50.16666793823242" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1203.4333124160767" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">Redis</tspan></text><path style="" fill="none" stroke="#000000" d="M1203.4333124160767,87.26666641235352L1203.4333124160767,1218.1666831970215" stroke-width="2"></path><rect x="1258.5166463851929" y="48.63333320617676" width="40.066667556762695" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1268.5166015625" y="58.633331298828125" width="20.066667556762695" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1278.5499801635742" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">S3</tspan></text><rect x="1258.5166463851929" y="1218.1666831970215" width="40.066667556762695" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1268.5166015625" y="1228.166748046875" width="20.066667556762695" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1278.5499801635742" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">S3</tspan></text><path style="" fill="none" stroke="#000000" d="M1278.5499801635742,87.26666641235352L1278.5499801635742,1218.1666831970215" stroke-width="2"></path><rect x="1619.5499725341797" y="48.63333320617676" width="180.53334045410156" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1629.5499267578125" y="58.633331298828125" width="160.53334045410156" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1709.8166427612305" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">backgroundworker</tspan></text><rect x="1619.5499725341797" y="1218.1666831970215" width="180.53334045410156" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1629.5499267578125" y="1228.166748046875" width="160.53334045410156" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1709.8166427612305" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">backgroundworker</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,87.26666641235352L1709.8166427612305,1218.1666831970215" stroke-width="2"></path><rect x="1930.51664352417" y="48.63333320617676" width="120.33333587646484" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1940.5167236328125" y="58.633331298828125" width="100.33333587646484" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1990.6833114624023" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">subprocess</tspan></text><rect x="1930.51664352417" y="1218.1666831970215" width="120.33333587646484" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1940.5167236328125" y="1228.166748046875" width="100.33333587646484" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1990.6833114624023" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">subprocess</tspan></text><path style="" fill="none" stroke="#000000" d="M1990.6833114624023,87.26666641235352L1990.6833114624023,1218.1666831970215" stroke-width="2"></path><rect x="2070.8499794006348" y="48.63333320617676" width="140.4000015258789" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="2080.85009765625" y="58.633331298828125" width="120.4000015258789" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="2141.049980163574" y="67.94999980926514" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016668319702148">urgentworker</tspan></text><rect x="2070.8499794006348" y="1218.1666831970215" width="140.4000015258789" height="38.63333320617676" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="2080.85009765625" y="1228.166748046875" width="120.4000015258789" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="2141.049980163574" y="1237.4833498001099" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016658782958984">urgentworker</tspan></text><path style="" fill="none" stroke="#000000" d="M2141.049980163574,87.26666641235352L2141.049980163574,1218.1666831970215" stroke-width="2"></path><rect x="182.8916473388672" y="83.75" width="260.86663818359375" height="57.03334045410156" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="313.3249936103821" y="112.26666641235352" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-14.183326721191406">HTTP GET</tspan><tspan dy="19.2" x="313.3249936103821">/graph/passthrough</tspan><tspan dy="19.2" x="313.3249936103821">?input=http://someimage...</tspan></text><path style="" fill="none" stroke="#000000" d="M50.10000038146973,164.29999923706055C50.10000038146973,164.29999923706055,517.874805126932,164.29999923706055,571.5501367261428,164.29999923706055" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2291)" stroke-dasharray="0"></path><rect x="784.6416625976562" y="179.9833221435547" width="210.6999969482422" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="889.9916496276855" y="189.29999923706055" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016657829284668">Is a1b2c3d4e5 cached?</tspan></text><path style="" fill="none" stroke="#000000" d="M576.5499868392944,202.9333324432373C576.5499868392944,202.9333324432373,1139.3500114710873,202.9333324432373,1198.4330218694445,202.9333324432373" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2294)" stroke-dasharray="0"></path><rect x="879.9583129882812" y="218.61666870117188" width="20.066667556762695" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="889.9916496276855" y="227.9333324432373" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016659736633301">No</tspan></text><path style="" fill="none" stroke="#000000" d="M1203.4333124160767,241.56666564941406C1203.4333124160767,241.56666564941406,640.6332877842837,241.56666564941406,581.5502773859265,241.56666564941406" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2297)" stroke-dasharray="0"></path><rect x="661.7999877929688" y="247.64999389648438" width="351.16668701171875" height="37.833343505859375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="837.3833150863647" y="266.56666564941406" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.583320617675781">Background job for imgflo:</tspan><tspan dy="19.2" x="837.3833150863647"> { id: 123, graph: passthrough... }</tspan></text><path style="" fill="none" stroke="#000000" d="M576.5499868392944,299.4000015258789C576.5499868392944,299.4000015258789,1039.8345100343286,299.4000015258789,1093.2208125118814,299.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2300)" stroke-dasharray="0"></path><rect x="152.79165649414062" y="295.8833312988281" width="321.0666809082031" height="57.0333251953125" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="313.3249936103821" y="324.4000015258789" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-14.183326721191406">HTTP 202 accept</tspan><tspan dy="19.2" x="313.3249936103821">Location: </tspan><tspan dy="19.2" x="313.3249936103821">https://s3.../processedimage.png</tspan></text><path style="" fill="none" stroke="#000000" d="M576.5499868392944,376.43333435058594C576.5499868392944,376.43333435058594,108.77518209383214,376.43333435058594,55.09985049462138,376.43333435058594" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2303)" stroke-dasharray="0"></path><rect x="70.10000038146973" y="396.43333435058594" width="361.1666564941406" height="86.23333740234375" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="75.10000610351562" y="401.433349609375" width="351.1666564941406" height="76.23333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="250.68332862854004" y="439.5500030517578" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-23.783309936523438">Request is now "done"</tspan><tspan dy="19.2" x="250.68332862854004">from Client perspective.</tspan><tspan dy="19.2" x="250.68332862854004">Asset pointed to in `Location`</tspan><tspan dy="19.2" x="250.68332862854004"> is however not ready at this time.</tspan></text><rect x="1333.7833251953125" y="498.3500061035156" width="140.46665954589844" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1404.0166430473328" y="507.6666717529297" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016661643981934">{ id: 123... }</tspan></text><path style="" fill="none" stroke="#000000" d="M1098.216643333435,521.3000049591064C1098.216643333435,521.3000049591064,1646.517826105271,521.3000049591064,1704.8149855528136,521.3000049591064" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2309)" stroke-dasharray="0"></path><rect x="1298.5499801635742" y="541.3000049591064" width="391.26666259765625" height="47.833335876464844" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1303.550048828125" y="546.2999877929688" width="381.2666015625" height="37.8333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1494.1833114624023" y="565.2166728973389" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.583345413208008">image could be produced while queueing</tspan><tspan dy="19.2" x="1494.1833114624023">by another job/request</tspan></text><rect x="1351.2750244140625" y="604.816650390625" width="210.6999969482422" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1456.6249775886536" y="614.1333408355713" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.01662540435791">is a1b2c3d4e5 cached?</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,627.766674041748C1709.8166427612305,627.766674041748,1260.9201873290226,627.766674041748,1208.4247278192502,627.766674041748" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2315)" stroke-dasharray="0"></path><rect x="1446.5916748046875" y="643.4500122070312" width="20.066667556762695" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1456.6249775886536" y="652.766674041748" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016657829284668">No</tspan></text><path style="" fill="none" stroke="#000000" d="M1203.4333124160767,666.4000072479248C1203.4333124160767,666.4000072479248,1652.3297678482845,666.4000072479248,1704.825227358057,666.4000072479248" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2318)" stroke-dasharray="0"></path><rect x="1529.3166427612305" y="686.4000072479248" width="160.5" height="28.633333206176758" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1534.316650390625" y="691.3999633789062" width="150.5" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1609.5666427612305" y="700.7166738510132" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016645431518555">Get input image</tspan></text><rect x="985.2249755859375" y="721.1166381835938" width="190.63330078125" height="37.8333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1080.5416498184204" y="740.0333404541016" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.5833282470703125">HTTP GET</tspan><tspan dy="19.2" x="1080.5416498184204">http://someimage...</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,772.8666763305664C1709.8166427612305,772.8666763305664,542.3497105784681,772.8666763305664,456.2718264185088,772.8666763305664" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2324)" stroke-dasharray="0"></path><rect x="970.1749877929688" y="778.9500122070312" width="220.73333740234375" height="37.8333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1080.5416498184204" y="797.8666763305664" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.583366394042969">HTTP response</tspan><tspan dy="19.2" x="1080.5416498184204">Content-Type:image/png</tspan></text><path style="" fill="none" stroke="#000000" d="M451.26665687561035,830.7000122070312C451.26665687561035,830.7000122070312,1618.7335890583727,830.7000122070312,1704.8114732183321,830.7000122070312" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2327)" stroke-dasharray="0"></path><rect x="1729.8166427612305" y="850.7000122070312" width="140.43333435058594" height="28.633333206176758" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1734.816650390625" y="855.7000122070312" width="130.43333435058594" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1800.0333099365234" y="865.0166788101196" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.01666259765625">Process image</tspan></text><rect x="1719.816650390625" y="895.0166625976562" width="260.8666687011719" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1850.2499771118164" y="904.333345413208" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016617774963379">EXEC imgflo &lt; 123.fbp.json</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,917.9666786193848C1709.8166427612305,917.9666786193848,1948.0067255743488,917.9666786193848,1985.689141019393,917.9666786193848" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2333)" stroke-dasharray="0"></path><rect x="1769.9832763671875" y="933.6499633789062" width="160.53334045410156" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1850.2499771118164" y="942.9666786193848" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016650199890137">EXIT 0 (success)</tspan></text><path style="" fill="none" stroke="#000000" d="M1990.6833114624023,956.6000118255615C1990.6833114624023,956.6000118255615,1752.493228649284,956.6000118255615,1714.81081320424,956.6000118255615" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2336)" stroke-dasharray="0"></path><rect x="1489.1833114624023" y="976.6000118255615" width="200.63333129882812" height="28.633333206176758" rx="0" ry="0" fill="none" stroke="#000000" style="" stroke-width="2"></rect><rect x="1494.183349609375" y="981.5999755859375" width="190.63333129882812" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1589.4999771118164" y="990.9166784286499" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016637802124023">Upload output image</tspan></text><rect x="1333.6500244140625" y="1011.316650390625" width="321.066650390625" height="37.8333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1494.1833114624023" y="1030.2333450317383" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.583396911621094">HTTP POST</tspan><tspan dy="19.2" x="1494.1833114624023">https://s3.../processedimage.png</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,1063.0666809082031C1709.8166427612305,1063.0666809082031,1331.5629391436814,1063.0666809082031,1283.5424494266097,1063.0666809082031" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2342)" stroke-dasharray="0"></path><rect x="1439" y="1078.75" width="110.36666870117188" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1494.1833114624023" y="1088.0666809082031" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016737937927246">HTTP 200 OK</tspan></text><path style="" fill="none" stroke="#000000" d="M1278.5499801635742,1101.7000141143799C1278.5499801635742,1101.7000141143799,1656.8036837811233,1101.7000141143799,1704.8241734981948,1101.7000141143799" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2345)" stroke-dasharray="0"></path><rect x="1338.7999267578125" y="1107.7833251953125" width="130.433349609375" height="37.8333740234375" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="1404.0166430473328" y="1126.7000141143799" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="-4.583372116088867">Job completed</tspan><tspan dy="19.2" x="1404.0166430473328">{ id: 123.. }</tspan></text><path style="" fill="none" stroke="#000000" d="M1709.8166427612305,1159.5333499908447C1709.8166427612305,1159.5333499908447,1161.5154599893945,1159.5333499908447,1103.2183005418517,1159.5333499908447" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2348)" stroke-dasharray="0"></path><rect x="586.5499877929688" y="1175.2166748046875" width="501.6666564941406" height="18.633333206176758" rx="0" ry="0" fill="#ffffff" stroke="none" style=""></rect><text style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;" x="837.3833150863647" y="1184.5333499908447" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000"><tspan dy="5.016732215881348">{ id: 123..., error: null, output: https://s3... }</tspan></text><path style="" fill="none" stroke="#000000" d="M1098.216643333435,1198.1666831970215C1098.216643333435,1198.1666831970215,634.9321201384009,1198.1666831970215,581.5458176608481,1198.1666831970215" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2351)" stroke-dasharray="0"></path></svg>