# @runtime none

# in HTTP api frontend
pre(CheckCache) NO -> IN queue(ProcessingQueue)
uploadOutput OUT -> IN redirect(Redirect)

pre YES -> IN redirect

# in the worker
queue OUT -> IN download(Download) OUT -> IN load(LoadInput) OUT -> IN calc(ActuallyProcessPixels) OUT -> IN scale(Downscale) OUT -> IN save(SaveOutput)
save OUT -> IN uploadOutput(Upload)

# in the client
redirect OUT -> IN downloadOutput(Download)
